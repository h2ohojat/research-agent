/* =========================================================
   Pyamooz AI â€” Chat-only styles (scoped)
   Ø§Ø«Ø± ÙÙ‚Ø· Ø¯Ø§Ø®Ù„ .chat-panel ÛŒØ§ #chatView
   ========================================================= */


/* ====== LAYOUT: Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ Ø§Ø³Ú©Ø±ÙˆÙ„ØŒ Ú©Ø§Ù…Ù¾ÙˆØ²Ø± Ú†Ø³Ø¨ÛŒØ¯Ù‡ Ù¾Ø§ÛŒÛŒÙ† ====== */
.chat-panel, #chatView {
  display: flex;
  flex-direction: column;
  min-height: 100dvh; /* Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù¾Ø§ÛŒØ¯Ø§Ø±ØªØ± Ø§Ø² 100vh */
}

/* Ù†Ø§Ø­ÛŒÙ‡Ù” Ø§Ø³Ú©Ø±ÙˆÙ„ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ */
.chat-panel .chat-scroll,
#chatView .chat-scroll {
  flex: 1 1 auto;
  min-height: 0; /* Ø­ÛŒØ§ØªÛŒ Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„â€ŒØ´Ø¯Ù† Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¯Ø± flex/grid */
}

.chat-panel #chatMessages,
#chatView #chatMessages {
  height: 100%;
  overflow-y: auto;
  padding: var(--gap, 12px);
  padding-bottom: calc(var(--composer-height, 84px) + env(safe-area-inset-bottom, 0) + 12px);
  box-sizing: border-box;
}

/* Ø§Ø³Ú©Ø±ÙˆÙ„â€ŒØ¨Ø§Ø± ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù„ÛŒØ³Øª Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ (Ø²ÛŒØ¨Ø§ØªØ±) */
.chat-panel #chatMessages::-webkit-scrollbar,
#chatView #chatMessages::-webkit-scrollbar { width: 8px; }
.chat-panel #chatMessages::-webkit-scrollbar-thumb,
#chatView #chatMessages::-webkit-scrollbar-thumb {
  background-color: #e1e7f0; border-radius: 10px;
}
.chat-panel #chatMessages::-webkit-scrollbar-thumb:hover,
#chatView #chatMessages::-webkit-scrollbar-thumb:hover {
  background-color: #cdd6e4;
}

/* ====== COMPOSER: sticky Ù¾Ø§ÛŒÛŒÙ† + Ú†ÛŒÙ†Ø´ Ø¯Ù„Ø®ÙˆØ§Ù‡ ====== */
.chat-panel .composer,
#chatView .composer {
  position: sticky;
  bottom: 0;
  z-index: 20;
  background: var(--bg-surface, #fff);
  border-top: 1px solid var(--border-light, #e3e3e3);
  padding: 8px 12px;   /* Ø§Ú¯Ø± include Ù¾Ø¯ÛŒÙ†Ú¯ Ø¯Ø§Ø±Ø¯ØŒ Ù…ØªÙ†Ø§Ø³Ø¨ Ú©Ù† */
  border-radius: 0;    /* Ø®Ù†Ø«ÛŒâ€ŒØ³Ø§Ø²ÛŒ Ù‡Ø± radius Ø¹Ù…ÙˆÙ…ÛŒ */
}

/* Ù†ÙˆØ§Ø± Ø¯Ø§Ø®Ù„ Ú©Ø§Ù…Ù¾ÙˆØ²Ø± â€” Ø§Ø² Grid Ø¨Ù‡ Flex Ø¨Ø±Ø§ÛŒ Ú©Ù†ØªØ±Ù„ Ø¨Ù‡ØªØ± Ú†ÛŒÙ†Ø´ */
.chat-panel .composer-bar,
#chatView .composer-bar {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;

  display: flex;
  align-items: center;
  gap: 8px;
  justify-content: flex-start;          /* Ø¨Ù‡â€ŒØ¬Ø§ÛŒ space-between */

  background: var(--bg-surface, #fff);
  border: 1px solid var(--border-light, #e3e3e3);
  border-radius: 9999px;
  padding: 8px;
  box-shadow: var(--shadow, 0 2px 8px rgba(0,0,0,.08));
}
.chat-panel .composer-bar:focus-within,
#chatView .composer-bar:focus-within {
  border-color: var(--primary-border, #7aa7ff);
  box-shadow: 0 0 0 4px rgba(0,144,255,.08);
}

/* Ø¸Ø±Ù ÙˆØ±ÙˆØ¯ÛŒ Ø¬Ù‡Øª Ú¯Ø³ØªØ±Ø´ Ø®ÙˆØ¨ */
.chat-panel #composer,
#chatView #composer {
  flex: 1 1 auto;
  min-width: 0;
}

/* textarea Ø¯Ø§Ø®Ù„ Ú©Ø§Ù…Ù¾ÙˆØ²Ø± */
.chat-panel #composer #inp,
#chatView #composer #inp {
  border: 0; outline: none; background: transparent; color: var(--text, #222);
  width: 100%; min-height: 40px; max-height: 35vh; line-height: 1.6;
  padding: 10px 0; resize: none; overflow-y: hidden;
}

/* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆØ²Ø± (Ø¢ÛŒÚ©Ù†ÛŒ) */
.chat-panel #composer .icon-btn,
#chatView #composer .icon-btn {
  width: 36px; height: 36px; min-width: 0 !important; padding: 0 !important;
  border: 1px solid transparent !important; border-radius: 9999px;
  display: inline-grid; place-items: center;
  background: transparent; color: var(--text-2, #444);
  cursor: pointer;
}
.chat-panel #composer .icon-btn--ghost:hover,
#chatView #composer .icon-btn--ghost:hover {
  background: var(--bg-hover, #f0f7ff);
}
.chat-panel #composer .icon-btn--primary,
#chatView #composer .icon-btn--primary {
  background: var(--primary-color, #0090ff); color: #fff;
  box-shadow: var(--shadow, 0 2px 8px rgba(0,0,0,.08));
}

/* â¡ï¸ Ø¯Ú©Ù…Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø³Ù…Øª Ø±Ø§Ø³ØªØ› Ø¨Ù‚ÛŒÙ‡ Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ Ø³Ù…Øª Ú†Ù¾ */
.chat-panel .composer-bar .icon-btn--primary,
#chatView .composer-bar .icon-btn--primary,
.chat-panel .composer-bar #btnSend2,
#chatView .composer-bar #btnSend2 {
  margin-inline-start: auto; /* Ø³ØªÙˆÙ† Ø§Ù†Ø¹Ø·Ø§Ù Ø±Ø§ Ø¨Ù‡ Ø±Ø§Ø³Øª Ù‡Ù„ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ */
}

/* Ø§Ú¯Ø± Ù…Ø¯Ù„â€ŒØ³Ù„Ú©ØªÙˆØ± Ø¯Ø§Ø®Ù„ Ú©Ø§Ù…Ù¾ÙˆØ²Ø± Ø§Ø³ØªØŒ Ú©Ù…ÛŒ Ø¬Ù…Ø¹â€ŒÙˆØ¬ÙˆØ± Ø´ÙˆØ¯ */
.chat-panel .composer .model-selector,
#chatView .composer .model-selector {
  min-width: 180px;
}

/* ====== Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ / Ø­Ø¨Ø§Ø¨â€ŒÙ‡Ø§ ====== */
/* Ø¨ÛŒØ³ Ø®Ù†Ø«ÛŒ: Ù‡Ø± Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ú†Øª ØµÙØ± Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… */
.chat-panel .msg,
#chatView .msg {
  position: relative;
  padding: 12px 16px;
  border-radius: 12px;
  margin: 10px 0;
  line-height: 1.7;
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  border-inline-start: 0 !important;
}

/* Ø®ÙˆØ¯ Ø­Ø¨Ø§Ø¨ (Ø¸Ø±Ù markdown) */
.chat-panel .bubble,
#chatView .bubble {
  max-width: 70%;
  unicode-bidi: plaintext;
  word-wrap: break-word;
  overflow-wrap: anywhere;

  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø±: Ø®Ø§Ú©Ø³ØªØ±ÛŒ Ù…Ù„Ø§ÛŒÙ… */
.chat-panel .msg.user .bubble,
#chatView .msg.user .bubble {
  background: #f3f4f6 !important;       /* Ø®Ø§Ú©Ø³ØªØ±ÛŒ Ø±ÙˆØ´Ù† */
  border: 1px solid #e5e7eb !important;
  box-shadow: 0 1px 2px rgba(0,0,0,.04) !important;
}

/* Ù¾Ø§Ø³Ø® Ø¯Ø³ØªÛŒØ§Ø±: Ø¨Ø¯ÙˆÙ† Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡/Ú©Ø§Ø¯Ø± */
.chat-panel .msg.assistant .bubble,
#chatView .msg.assistant .bubble {
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* Ú†ÛŒØ¯Ù…Ø§Ù† ØºÛŒØ±Ù…ØªÙ‚Ø§Ø±Ù† Ø§Ø®ØªÛŒØ§Ø±ÛŒ */
.chat-panel .msg.user,
#chatView .msg.user { margin-inline-start: 40px; }
.chat-panel .msg.assistant,
#chatView .msg.assistant { margin-inline-end: 40px; }

/* BiDi: ÙˆÙ‚ØªÛŒ ÙØ§Ø±Ø³ÛŒØŒ Ø±Ø§Ø³Øªâ€ŒÚ†ÛŒÙ† */
.chat-panel .bubble[dir="rtl"],
#chatView .bubble[dir="rtl"] {
  direction: rtl;
  text-align: right;
}

/* code/pre Ù‡Ù…ÛŒØ´Ù‡ LTR Ùˆ Ø§ÛŒØ²ÙˆÙ„Ù‡ */
.chat-panel .bubble pre,
.chat-panel .bubble code,
#chatView .bubble pre,
#chatView .bubble code {
  direction: ltr !important;
  text-align: left !important;
  unicode-bidi: isolate !important;
}

/* Ú©Ø±Ø³Ø± Ø§Ø³ØªØ±ÛŒÙ… (â–®) */
.chat-panel .streaming-cursor,
#chatView .streaming-cursor {
  display: inline-block;
  animation: chat-blink 1s steps(2, end) infinite;
  opacity: 0.8;
}
@keyframes chat-blink {
  50% { opacity: 0; }
}

/* Ø§Ú©Ø´Ù†â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ§Ù… (Ú©Ù¾ÛŒØŒ â€¦) - Ø§Ø®ØªÛŒØ§Ø±ÛŒ */
.chat-panel .msg-actions,
#chatView .msg-actions {
  position: absolute; top: 8px; inset-inline-start: 8px;
  display: none; gap: 6px;
}
.chat-panel .msg:hover .msg-actions,
#chatView .msg:hover .msg-actions { display: flex; }
.chat-panel .msg-action,
#chatView .msg-action {
  padding: 4px 8px;
  border: 1px solid var(--border-light, #e3e3e3);
  border-radius: 8px;
  background: var(--bg-surface, #fff);
  color: var(--text-2, #444);
  font-size: 12px; cursor: pointer;
}
.chat-panel .msg-action:hover,
#chatView .msg-action:hover { background: var(--bg-hover, #f0f7ff); }

/* ====== FAB Â«Ø¨Ø±Ùˆ Ù¾Ø§ÛŒÛŒÙ†Â» (Ø§Ø®ØªÛŒØ§Ø±ÛŒ) ====== */
.chat-panel #jumpToBottom,
#chatView #jumpToBottom {
  position: fixed;
  z-index: 99;
  left: 50%;
  transform: translateX(-50%);
  bottom: calc(var(--composer-height, 84px) + env(safe-area-inset-bottom,0) + 10px);

  width: 48px; height: 48px;
  display: none; /* Ø¨Ø§ Ú©Ù„Ø§Ø³ .show Ø¸Ø§Ù‡Ø± Ø´ÙˆØ¯ */
  padding: 0; border: none; border-radius: 9999px;
  background: var(--primary-color, #0090ff); color: #fff;
  place-items: center; line-height: 0;
  box-shadow: 0 2px 8px rgba(0,0,0,.15);
  cursor: pointer;
}
.chat-panel #jumpToBottom.show,
#chatView #jumpToBottom.show { display: grid }
.chat-panel #jumpToBottom:hover,
#chatView #jumpToBottom:hover {
  transform: translateX(-50%) translateY(-2px);
}

/* ====== Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ú†Øª ====== */
@media (max-width: 768px) {
  .chat-panel #composer #inp,
  #chatView #composer #inp { max-height: 30vh; }
  .chat-panel .composer-bar,
  #chatView .composer-bar { margin: 0 8px; }
}
/* ====== ALIGNMENT (final, direction-proof) ====== */
/* Ø¸Ø±Ù Ù‡Ø± Ù¾ÛŒØ§Ù… Ø±Ø§ ÙÙ„Ú©Ø³ Ùˆ Ù…Ø­ÙˆØ± Ø±Ø§ Ù‡Ù…ÛŒØ´Ù‡ LTR Ù†Ú¯Ù‡ Ø¯Ø§Ø± ØªØ§ flex-start/flex-end Ø«Ø§Ø¨Øª Ø¨Ù…Ø§Ù†Ù†Ø¯ */
.chat-panel .msg,
#chatView .msg {
  display: flex;
  flex-direction: row;
  direction: ltr;           /* Ù…Ù‡Ù…: Ø¬Ù‡ØªÙ Ù…Ø­ÙˆØ±Ù ÙÙ„Ú©Ø³ Ø±Ø§ Ù‚ÙÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ */
}

/* Ú©Ø§Ø±Ø¨Ø± â†’ Ø±Ø§Ø³Øª Ø› Ø¯Ø³ØªÛŒØ§Ø± â†’ Ú†Ù¾ */
.chat-panel .msg.user,
#chatView .msg.user {
  justify-content: flex-end;  /* Ø­Ø¨Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø± Ù…ÛŒâ€ŒØ±ÙˆØ¯ Ø³Ù…Øª Ø±Ø§Ø³Øª */
  margin-inline-start: 0;
  margin-inline-end: 0;
}
.chat-panel .msg.assistant,
#chatView .msg.assistant {
  justify-content: flex-start; /* Ø­Ø¨Ø§Ø¨ Ø¯Ø³ØªÛŒØ§Ø± Ù…ÛŒâ€ŒØ±ÙˆØ¯ Ø³Ù…Øª Ú†Ù¾ */
  margin-inline-start: 0;
  margin-inline-end: 0;
}

/* Ù‡Ø±Ú¯ÙˆÙ†Ù‡ Ù…Ø§Ø±Ø¬ÛŒÙ† Ù‚Ø¨Ù„ÛŒ Ø±ÙˆÛŒ Ø®ÙˆØ¯ Ø­Ø¨Ø§Ø¨ Ø±Ø§ Ø®Ù†Ø«ÛŒ Ú©Ù† ØªØ§ Ø¬Ø§â€ŒØ¨Ù‡â€ŒØ¬Ø§ÛŒÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ù†Ø´ÙˆØ¯ */
.chat-panel .msg .bubble,
#chatView .msg .bubble {
  margin: 0 !important;
  max-width: 72%;
}

/* ====== ROUNDED CORNERS (Ø¨Ø§ Ø¯Ø±Ù†Ø¸Ø±Ú¯Ø±ÙØªÙ† RTL Ù…ØªÙ†) ====== */
/* LTR Ù¾ÛŒØ´â€ŒÙØ±Ø¶: Ú©Ø§Ø±Ø¨Ø± (Ø±Ø§Ø³Øª) notch Ù¾Ø§ÛŒÛŒÙ†-Ø±Ø§Ø³ØªØ› Ø¯Ø³ØªÛŒØ§Ø± (Ú†Ù¾) notch Ù¾Ø§ÛŒÛŒÙ†-Ú†Ù¾ */
.chat-panel .msg.user .bubble,
#chatView .msg.user .bubble {
  border-radius: 16px 16px 4px 16px;    /* tl tr br bl */
}
.chat-panel .msg.assistant .bubble,
#chatView .msg.assistant .bubble {
  border-radius: 16px 16px 16px 4px;
}

/* Ø§Ú¯Ø± Ù…Ø­ØªÙˆØ§ÛŒ Ø­Ø¨Ø§Ø¨ RTL Ø´Ø¯ØŒ notchâ€ŒÙ‡Ø§ Ø±Ø§ Ù…Ø¹Ú©ÙˆØ³ Ú©Ù† ØªØ§ Ø·Ø¨ÛŒØ¹ÛŒ Ø¯ÛŒØ¯Ù‡ Ø´ÙˆÙ†Ø¯ */
.chat-panel .msg.user .bubble[dir="rtl"],
#chatView .msg.user .bubble[dir="rtl"] {
  border-radius: 16px 16px 16px 4px;
}
.chat-panel .msg.assistant .bubble[dir="rtl"],
#chatView .msg.assistant .bubble[dir="rtl"] {
  border-radius: 16px 16px 4px 16px;
}
/* ====== Assistant full-width (no right gap) ====== */

/* Ù‡Ø± Ø±Ø¯ÛŒÙ Ù¾ÛŒØ§Ù… Ø¹Ø±Ø¶ Ú©Ø§Ù…Ù„ Ø¨Ú¯ÛŒØ±Ù‡ ØªØ§ Ø¨ØªÙˆÙ†ÛŒÙ… Ø­Ø¨Ø§Ø¨ assistant Ø±Ùˆ 100% Ú©Ù†ÛŒÙ… */
.chat-panel .msg,
#chatView .msg {
  width: 100%;
}

/* Ø¨Ø±Ø§ÛŒ Ø±Ø¯ÛŒÙâ€ŒÙ‡Ø§ÛŒ assistantØŒ ÙØ§ØµÙ„Ù‡â€ŒÛŒ Ø³Ù…Øª Ø±Ø§Ø³Øª Ø¸Ø±Ù Ù¾ÛŒØ§Ù… Ø±Ø§ ØµÙØ± Ú©Ù† */
.chat-panel .msg.assistant,
#chatView .msg.assistant {
  padding-inline-end: 0; /* Ú†ÙˆÙ† .msg Ø±Ø§ Ù‚Ø¨Ù„Ø§Ù‹ direction:ltr Ú©Ø±Ø¯ÛŒÙ…ØŒ ÛŒØ¹Ù†ÛŒ padding-right:0 */
}

/* Ø®ÙˆØ¯ Ø­Ø¨Ø§Ø¨Ù assistant Ø±Ø§ ØªÙ…Ø§Ù…â€ŒØ¹Ø±Ø¶ Ú©Ù† Ùˆ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª max-width Ø±Ø§ Ø¨Ø±Ø¯Ø§Ø± */
.chat-panel .msg.assistant .bubble,
#chatView .msg.assistant .bubble {
  width: 100%;
  max-width: 100% !important; /* override Ø±ÙˆÛŒ max-width Ø¹Ù…ÙˆÙ…ÛŒ (Û·Û°/Û·Û²Ùª) */
  margin: 0 !important;       /* Ù‡Ø± Ù…Ø§Ø±Ø¬ÛŒÙ† Ø¨Ø§Ù‚ÛŒÙ…Ø§Ù†Ø¯Ù‡ Ø±Ø§ Ø®Ù†Ø«ÛŒ Ú©Ù† */
}

/* Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ù… Ú©Ø§Ø±Ø¨Ø± Ù‡Ù…Ø§Ù† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø¹Ø±Ø¶ Ø±Ø§ Ù†Ú¯Ù‡ Ø¯Ø§Ø±ÛŒÙ… (Ø±Ø§Ø³Øªâ€ŒÚ†ÛŒÙ†Ù Ø®Ø§Ú©Ø³ØªØ±ÛŒ) */
.chat-panel .msg.user .bubble,
#chatView .msg.user .bubble {
  max-width: 72%;
}
/* ====== User bubble comfy spacing (inner + outer) ====== */
/* ÙØ§ØµÙ„Ù‡Ù” Ø¯Ø§Ø®Ù„ÛŒ Ø±Ø§Ø­Øª Ø¨Ø±Ø§ÛŒ Ù…ØªÙ† Ø¯Ø§Ø®Ù„ Ø­Ø¨Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø± */
.chat-panel .msg.user .bubble,
#chatView .msg.user .bubble {
  padding: var(--bubble-pad-y, 10px) var(--bubble-pad-x, 14px); /* Ø¯Ø§Ø®Ù„ Ø­Ø¨Ø§Ø¨ */
  /* ÙØ§ØµÙ„Ù‡Ù” Ø¨ÛŒØ±ÙˆÙ†ÛŒ Ù†Ø±Ù… ØªØ§ Ø¨Ù‡ Ù„Ø¨Ù‡Ù” Ú©Ø§Ù†ØªÛŒÙ†Ø± Ù†Ú†Ø³Ø¨Ø¯ */
  margin-inline-end: 8px;  /* Ú†ÙˆÙ† Ø­Ø¨Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø± Ø³Ù…Øª Ø±Ø§Ø³Øªâ€ŒÙ€Ù‡ */
  margin-inline-start: 8px; /* Ú©Ù…ÛŒ ÙØ§ØµÙ„Ù‡ Ø§Ø² Ø³Ù…Øª Ù…Ù‚Ø§Ø¨Ù„ Ø¨Ø±Ø§ÛŒ ØªØ¹Ø§Ø¯Ù„ */
  border-radius: 16px;     /* Ú¯Ø±Ø¯ÛŒ ÛŒÚ©Ù†ÙˆØ§Ø®ØªØ› Ø§Ú¯Ø± Ù‚Ø¨Ù„Ø§Ù‹ notch Ú¯Ø°Ø§Ø´ØªÛŒØŒ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ù†Ú¯Ù‡â€ŒØ¯Ø§Ø±ÛŒ */
}

/* Ø§Ú¯Ø± Ø§Ø² notchÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŒ Ø§ÛŒÙ†â€ŒÙ‡Ø§ Ø±Ø§ Ù‡Ù… Ù†Ú¯Ù‡ Ø¯Ø§Ø± ØªØ§ Ø¨Ø§ padding Ø¬Ø¯ÛŒØ¯ Ù‡Ù…Ø§Ù‡Ù†Ú¯ Ø¨Ù…Ø§Ù†Ø¯ */
.chat-panel .msg.user .bubble[dir="rtl"],
#chatView .msg.user .bubble[dir="rtl"] {
  border-radius: 16px 16px 16px 4px; /* Ù…Ø·Ø§Ø¨Ù‚ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù‚Ø¨Ù„ÛŒâ€ŒØ§ØªØ› Ø¯Ù„Ø®ÙˆØ§Ù‡ */
}
.chat-panel .msg.user .bubble:not([dir="rtl"]),
#chatView .msg.user .bubble:not([dir="rtl"]) {
  border-radius: 16px 16px 4px 16px;
}

/* Ú©Ù…ÛŒ Ø§ØµÙ„Ø§Ø­ ÙØ§ØµÙ„Ù‡ Ù¾Ø§Ø±Ø§Ú¯Ø±Ø§Ùâ€ŒÙ‡Ø§ Ø¯Ø§Ø®Ù„ Ø­Ø¨Ø§Ø¨ (Ø¯Ù„Ø®ÙˆØ§Ù‡) */
.chat-panel .msg.user .bubble p,
#chatView .msg.user .bubble p {
  margin: 0.3em 0;
}
/* === Centered Jump-to-Bottom inside Composer === */
.chat-panel .composer-holder { position: relative; }

/* Ø¯Ú©Ù…Ù‡Ù” ÙˆØ³Ø· Ú©Ø§Ù…Ù¾ÙˆØ²Ø± */
.chat-panel .composer-holder #jumpToBottom {
  position: absolute !important;         /* override Ù‡Ø± Ø§Ø³ØªØ§ÛŒÙ„ Ù‚Ø¨Ù„ÛŒ */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);      /* Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ ÙˆØ³Ø·Ù Ú©Ø§Ù…Ù¾ÙˆØ²Ø± */
  z-index: 30;

  width: 40px;
  height: 40px;
  display: none;                         /* Ø¨Ø§ Ú©Ù„Ø§Ø³ .show Ø¸Ø§Ù‡Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ */
  place-items: center;
  border-radius: 9999px;
  border: 1px solid var(--border-light, #e3e3e3);
  background: var(--bg-surface, #fff);
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
  color: var(--text-2, #444);
  cursor: pointer;
}

.chat-panel .composer-holder #jumpToBottom.show { display: grid; }

.chat-panel .composer-holder #jumpToBottom:hover {
  background: var(--bg-hover, #f0f7ff);
}

.chat-panel .composer-holder #jumpToBottom svg {
  width: 20px; height: 20px; display: block;
  fill: currentColor;
}

/* Ø§Ú¯Ø± Ú©Ø§Ù…Ù¾ÙˆØ²Ø± Ø®ÛŒÙ„ÛŒ Ø´Ù„ÙˆØº Ø§Ø³Øª Ùˆ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒ Ø¯Ú©Ù…Ù‡ Ú©Ù…ÛŒ Ø¨Ø§Ù„Ø§ØªØ±/Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± Ø¨Ø§Ø´Ø¯ØŒ ÛŒÚ©ÛŒ Ø§Ø² Ø§ÛŒÙ†â€ŒÙ‡Ø§ Ø±Ø§ ÙØ¹Ø§Ù„ Ú©Ù†: */
/* .chat-panel .composer-holder #jumpToBottom { top: 45%; } */
/* .chat-panel .composer-holder #jumpToBottom { top: 55%; } */
/* =========================================================
   ğŸ”§ FIX: Composer z-index Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„
   ========================================================= */

/* Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ØŒ Ú©Ø§Ù…Ù¾ÙˆØ²Ø± Ø¨Ø§ÛŒØ¯ Ø²ÛŒØ± Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± Ø¨Ø§Ø´Ø¯ */
@media (max-width: 991.98px) {
  .chat-panel .composer,
  #chatView .composer {
    z-index: 10 !important; /* Ú©Ù…ØªØ± Ø§Ø² Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± (z-index: 20) */
  }
  
  /* Ø¯Ú©Ù…Ù‡ jump-to-bottom Ù‡Ù… Ø¨Ø§ÛŒØ¯ Ø²ÛŒØ± Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± Ø¨Ø§Ø´Ø¯ */
  .chat-panel .composer-holder #jumpToBottom,
  #chatView .composer-holder #jumpToBottom {
    z-index: 15 !important; /* Ú©Ù…ØªØ± Ø§Ø² Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± Ø§Ù…Ø§ Ø¨Ø§Ù„Ø§ØªØ± Ø§Ø² Ú©Ø§Ù…Ù¾ÙˆØ²Ø± */
  }
  
  /* Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ú©Ø§Ù…Ù¾ÙˆØ²Ø± Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù¾Ø´Øª backdrop Ù‡Ù… Ø¨Ø§Ø´Ø¯ */
  .chat-panel .composer,
  #chatView .composer {
    position: relative; /* Ø¨Ù‡ Ø¬Ø§ÛŒ sticky Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
  }
  
  /* ÙˆÙ‚ØªÛŒ Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± Ø¨Ø§Ø² Ø§Ø³ØªØŒ Ú©Ø§Ù…Ù¾ÙˆØ²Ø± Ú©Ù…ÛŒ Ù…Ø­Ùˆ Ø´ÙˆØ¯ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ) */
  body.sidebar-open-mobile .chat-panel .composer,
  body.sidebar-open-mobile #chatView .composer {
    opacity: 0.3;
    pointer-events: none; /* ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ú©Ø§Ù…Ù¾ÙˆØ²Ø± */
    transition: opacity 0.3s ease;
  }
}

/* Ø¨Ø±Ø§ÛŒ Ø¯Ø³Ú©ØªØ§Ù¾ØŒ z-index Ø¹Ø§Ø¯ÛŒ Ø±Ø§ Ø­ÙØ¸ Ú©Ù† */
@media (min-width: 992px) {
  .chat-panel .composer,
  #chatView .composer {
    z-index: 20; /* Ø¯Ø± Ø¯Ø³Ú©ØªØ§Ù¾ Ù…Ø´Ú©Ù„ÛŒ Ù†ÛŒØ³Øª */
  }
}